(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function t(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerPolicy&&(n.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?n.credentials="include":a.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(a){if(a.ep)return;a.ep=!0;const n=t(a);fetch(a.href,n)}})();const r="/tester-a11y",d="Comment tester l'accessibilité d'un site internet ?";window.onload=()=>{c("components/main/main.html").then(i=>{document.querySelector("#app").innerHTML=i,m()})};function m(){customElements.define("router-outlet",g),customElements.define("router-link",b),customElements.define("custom-header",h),customElements.define("custom-footer",p),customElements.define("custom-picture",f)}class h extends HTMLElement{async connectedCallback(){l("components/header/header.scss"),this.innerHTML=await c("components/header/header.html"),this.initTheme(),u()}initTheme(){const e=localStorage.getItem("theme");e?this.setTheme(e):window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?this.setTheme("dark"):this.setTheme("light");const t=document.getElementById("btnLight");t&&(t.onclick=()=>this.setTheme("light"));const s=document.getElementById("btnDark");s&&(s.onclick=()=>this.setTheme("dark"))}setTheme(e){var t=document.querySelectorAll(".theme-switcher-buttons button");t.forEach(s=>{s.getAttribute("data-theme")===e?s.setAttribute("aria-pressed",!0):s.setAttribute("aria-pressed",!1)}),document.documentElement.setAttribute("data-selected-theme",e),localStorage.setItem("theme",e)}}class p extends HTMLElement{async connectedCallback(){l("components/footer/footer.scss"),this.innerHTML=await c("components/footer/footer.html")}}class f extends HTMLElement{constructor(){super()}connectedCallback(){let e=document.createElement("img");e.alt=this.attributes.alt.value,e.src=this.attributes.src.value,e.setAttribute("lazy","loading"),this.attributes.style&&(e.style=this.attributes.style.value),this.attributes.class&&this.attributes.class.value.split(" ").forEach(t=>{e.classList.add(t)}),this.appendChild(e)}}class g extends HTMLElement{constructor(){super(),window.addEventListener("popstate",()=>this.handleRoute())}async connectedCallback(){await this.handleRoute()}async handleRoute(){const e=window.location.pathname.replace(r,"");let t="",s="";switch(e){case"/":s="pages/accueil.html",t="Accueil";break;case"/cas-pratique-1":s="pages/cas-pratique-1.html",t="Cas pratique n°1 : les contrastes";break;case"/cas-pratique-2":s="pages/cas-pratique-2.html",t="Cas pratique n°2 : la langue";break;case"/cas-pratique-3":s="pages/cas-pratique-3.html",t="Cas pratique n°3 : les images";break;case"/cas-pratique-4":s="pages/cas-pratique-4.html",t="Cas pratique n°4 : le formulaire";break;case"/cas-pratique-5":s="pages/cas-pratique-5.html",t="Cas pratique n°5 : les liens";break;case"/cas-pratique-6":s="pages/cas-pratique-6.html",t="Cas pratique n°6 : les boutons";break;case"/ci-cd":s="pages/ci-cd.html",t="Tests automatisés";break;case"/bonus":s="pages/bonus.html",t="Bonus";break;case"/faq":s="pages/faq.html",t="Foire aux questions";break;case"/ressources":s="pages/ressources.html",t="Ressources";break;case"/a-propos":s="pages/a-propos.html",t="A propos";break;default:s="pages/erreur.html",t="Erreur 404"}this.innerHTML=await c(s),document.title=`${t} - ${d}`,this.initJavascript(e),this.setCurrentPage(document.title)}setCurrentPage(e){document.getElementById("title-page").innerHTML=e}async navigate(e){window.history.pushState({},"",e),await this.handleRoute()}initJavascript(e){e==="/cas-pratique-3"&&document.getElementById("show-button").addEventListener("click",t=>{y(".images");const s=t.target;document.querySelector(".hidden")!==null?s.innerText="Afficher les images":s.innerText="Cacher les images"}),e==="/cas-pratique-4"&&document.getElementById("btnSubmit").addEventListener("click",()=>{const t=document.querySelectorAll(["input","textarea"]);let s=!1;for(const a of t)a.value!==""?(a.classList.contains("valid")||a.classList.add("valid"),a.classList.remove("invalid")):(s=!0,a.classList.contains("invalid")||a.classList.add("invalid"),a.classList.remove("valid"));s||setTimeout(()=>alert("Bravo, tous vos champs sont remplis !"),100)})}}async function c(i){const e=await fetch(`${r}/${i}`);if(!e.ok)throw new Error("Erreur lors du chargement du fichier HTML : "+e.statusText);return await e.text()}function l(i){const e=document.createElement("link");e.rel="stylesheet",e.type="text/css",e.href=`${r}/${i}`,document.head.appendChild(e)}function u(){document.querySelectorAll("router-link").forEach(e=>{let t=e.querySelector("a");window.location.pathname.replace(r,"")===e.attributes.href.value?(t.setAttribute("aria-current","page"),t.classList.add("active")):(t.removeAttribute("aria-current"),t.classList.remove("active")),t.addEventListener("click",()=>{u()})})}class b extends HTMLElement{constructor(){super()}connectedCallback(){const e=document.createElement("a"),t=r+this.attributes.href.value;e.href=t,e.text=this.attributes.title.value,e.onclick=s=>{s.preventDefault(),document.querySelector("router-outlet").navigate(t)},this.appendChild(e)}}function y(i){const e=document.querySelector(i);e&&(e.classList.contains("hidden")?e.classList.remove("hidden"):e.classList.add("hidden"))}
